selection_policies:
  select_data: &select_data
    - (select_answers([E, M]>>supports(E, _, M), ValidAnswers, SelectedAnswers) :-
      findall(A, (member(A, ValidAnswers), A \= supports(_, _, _)), SelectedAnswers))

  select_warrants: &select_warrants
    - (select_answers([E, M]>>supports(E, _, M), ValidAnswers, SelectedAnswers) :-
      findall(A, (member(A, ValidAnswers), A = supports(_, _, _)), SelectedAnswers))
  
  select_1st_datum: &select_1st_datum
    - (select_answers([E, M]>>supports(E, _, M), ValidAnswers, [SelectedAnswer]) :-
      call_nth((member(SelectedAnswer, ValidAnswers), SelectedAnswer \= supports(_, _, _)), 1))
  
  select_2nd_datum: &select_2nd_datum
    - (select_answers([E, M]>>supports(E, _, M), ValidAnswers, [SelectedAnswer]) :-
      call_nth((member(SelectedAnswer, ValidAnswers), SelectedAnswer \= supports(_, _, _)), 2))


reusable_facts:
  spinal_stenosis_model_facts: &spinal_stenosis_model_facts
    - supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), high), association)
    - supports(relative_value(back_pain(X), moderate), relative_prob(satisfied(X), moderate), association)
    - supports(relative_value(back_pain(X), high), relative_prob(satisfied(X), low), association)
    - supports(relative_value(disability(X), low), relative_prob(satisfied(X), high), association)
    - supports(relative_value(disability(X), moderate), relative_prob(satisfied(X), moderate), association)
    - supports(relative_value(disability(X), high), relative_prob(satisfied(X), low), association)
    - not(supports(relative_value(back_pain(X), high), relative_prob(satisfied(X), high), association))
    - not(supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), low), association))
    - supports(value(clinic_type(X), private), relative_prob(satisfied(X), high), association)
    - supports(value(clinic_type(X), public), relative_prob(satisfied(X), low), association)


respond_in_agenda:
  facts:
  - relative_prob(satisfied(patient), high)
  - agenda(respond(_{q:[X]>>relative_prob(satisfied(patient), X)}))
  turns:
  - S assert(relative_prob(satisfied(patient), high))

answer_wh_question_concerning_predicted_probability:
  facts:
   - relative_prob(satisfied(patient), high)
  turns:
    - U ask([X]>>relative_prob(satisfied(patient), X))
    - S assert(relative_prob(satisfied(patient), high))

answer_polar_question_concerning_predicted_class_with_relative_probability:
  facts:
   - relative_prob(satisfied(patient), high)
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))

elicit_datum_explanation_for_continuous_feature:
  facts:
    - value(back_pain(patient), 4)
    - relative_prob(satisfied(patient), high)
    - relative_value(back_pain(patient), low)
    - *spinal_stenosis_model_facts
    #- *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))

elaborate_datum_quantitatively:
  facts:
    - value(back_pain(patient), 4)
    - relative_prob(satisfied(patient), high)
    - relative_value(back_pain(patient), low)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U ask([V]>>value(back_pain(patient), V))
    - S assert(value(back_pain(patient), 4))

elicit_datum_explanation_for_categorical_feature:
  facts:
    - value(clinic_type(patient), private)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(value(clinic_type(patient), private))

elicit_warrant_explanation:
  facts:
    - value(back_pain(patient), 4)
    - relative_prob(satisfied(patient), high)
    - relative_value(back_pain(patient), low)
    - *spinal_stenosis_model_facts
    - *select_warrants
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), high), association))

elicit_explanation_with_multiple_data_conjunctively:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - value(disability(patient), 26)
    - relative_value(disability(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert([relative_value(back_pain(patient), low), relative_value(disability(patient), low)])

deliver_explanations_incrementally:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - value(disability(patient), 26)
    - relative_value(disability(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_1st_datum
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U icm(acceptance, positive)
    - S signal_continuation(assert(relative_value(disability(patient), low)))
    - U icm(acceptance, positive)
    - S

repeat_incremental_explanation_delivery_when_quested_repeated:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - value(disability(patient), 26)
    - relative_value(disability(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_1st_datum
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U icm(acceptance, positive)
    - S signal_continuation(assert(relative_value(disability(patient), low)))
    - U icm(acceptance, positive)
    - S
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U icm(acceptance, positive)
    - S signal_continuation(assert(relative_value(disability(patient), low)))
    - U icm(acceptance, positive)
    - S

explain_chained_inference_backwards:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - surgery_recommended(patient)
    - supports(relative_prob(satisfied(X), high), surgery_recommended(X), norm)
    - supports(relative_prob(satisfied(X), moderate), not(surgery_recommended(X)), norm)
    - supports(relative_prob(satisfied(X), low), not(surgery_recommended(X)), norm)
    - *spinal_stenosis_model_facts
    - *select_1st_datum
  turns:
    - U ask([]>>surgery_recommended(patient))
    - S confirm(surgery_recommended(patient))
    - U ask([E, M]>>supports(E, surgery_recommended(patient), M))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))

explain_chained_inference_forward:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - surgery_recommended(patient)
    - supports(relative_prob(satisfied(X), high), surgery_recommended(X), norm)
    - supports(relative_prob(satisfied(X), moderate), not(surgery_recommended(X)), norm)
    - supports(relative_prob(satisfied(X), low), not(surgery_recommended(X)), norm)
    - *spinal_stenosis_model_facts
    - *select_2nd_datum
  turns:
    - U ask([]>>surgery_recommended(patient))
    - S confirm(surgery_recommended(patient))
    - U ask([E, M]>>supports(E, surgery_recommended(patient), M))
    - S assert(relative_value(back_pain(patient), low))

confirm_warrant:
  facts:
    - *spinal_stenosis_model_facts
  turns:
    - U ask([]>>supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), high), _))
    - S confirm(supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), high), association))

disconfirm_warrant:
  facts:
    - *spinal_stenosis_model_facts
  turns:
    - U ask([]>>supports(relative_value(back_pain(X), high), relative_prob(satisfied(X), high), _))
    - S disconfirm(not(supports(relative_value(back_pain(X), high), relative_prob(satisfied(X), high), association)))

respond_to_open_request_for_forward_expansion:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - agenda(respond(_{q:[X]>>relative_value(back_pain(patient), X)}))
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - S assert(relative_value(back_pain(patient), low))
    - U ask([C, M]>>supports(relative_value(back_pain(patient), low), C, M))
    - S assert(relative_prob(satisfied(patient), high))

confirm_forward_expansion:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - agenda(respond(_{q:[X]>>relative_value(back_pain(patient), X)}))
    - *spinal_stenosis_model_facts
  turns:
    - S assert(relative_value(back_pain(patient), low))
    - U ask([]>>supports(relative_value(back_pain(patient), low), relative_prob(satisfied(patient), high), _))
    - S confirm(supports(relative_value(back_pain(patient), low), relative_prob(satisfied(patient), high), association))

provide_evidence_against_claim:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - value(disability(patient), 71)
    - relative_value(disability(patient), high)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), low), M))
    - S assert(relative_value(disability(patient), high))

repeat_exhaustive_answer_for_repeated_question:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))

wh_question_concerning_means:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U ask([M]>>supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), high), M))
    - S assert(supports(relative_value(back_pain(X), low), relative_prob(satisfied(X), high), association))

deliver_prediction_as_inference:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - agenda(argue(relative_prob(satisfied(patient), high)))
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - S infer([relative_value(back_pain(patient), low)], relative_prob(satisfied(patient), high))

reject_unanswerable_question_concerning_cause_of_specific_datum:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), high))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), high), M))
    - S assert(relative_value(back_pain(patient), low))
    - U ask([E]>>supports(E, relative_value(back_pain(patient), low), causation))
    - S icm(acceptance, negative, lack_knowledge([E]>>supports(E, relative_value(back_pain(patient), low), causation)))

reject_unanswerable_question_concerning_general_causal_relation:
  facts:
    - *spinal_stenosis_model_facts
  turns:
    - U ask([]>>supports(relative_value(back_pain(X), _), relative_prob(satisfied(X), high), causation))
    - S icm(acceptance, negative, lack_knowledge([]>>supports(relative_value(back_pain(X), _), relative_prob(satisfied(X), high), causation)))

provide_negative_understanding_when_no_semantic_interpretation:
  turns:
  - U none
  - S icm(understanding, negative)

confirm_datum_explanation:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
  turns:
    - U ask([]>>supports(relative_value(back_pain(patient), low), relative_prob(satisfied(patient), high), _))
    - S confirm(supports(relative_value(back_pain(patient), low), relative_prob(satisfied(patient), high), association))

reject_move_with_presupposition_violation:
  facts:
    - value(back_pain(patient), 4)
    - relative_value(back_pain(patient), low)
    - relative_prob(satisfied(patient), high)
    - *spinal_stenosis_model_facts
  turns:
    - U move{ content:ask([]>>supports(relative_value(back_pain(patient), high), relative_prob(satisfied(patient), high), _)), presuppositions:[relative_value(back_pain(patient), high)] }
    - S icm(acceptance, negative, relative_value(back_pain(patient), high))

explain_moderate_estimated_probability_caused_by_moderate_feature_values:
  facts:
    - value(back_pain(patient), 5)
    - relative_value(back_pain(patient), moderate)
    - relative_prob(satisfied(patient), moderate)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), moderate))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), moderate), M))
    - S assert(relative_value(back_pain(patient), moderate))

explain_moderate_estimated_probability_caused_by_contrasting_feature_contributions:
  facts:
    - value(back_pain(patient), 7)
    - relative_value(disability(patient), low)
    - value(disability(patient), 26)
    - relative_value(back_pain(patient), high)
    - relative_prob(satisfied(patient), moderate)
    - *spinal_stenosis_model_facts
    - *select_data
  turns:
    - U ask([]>>satisfied(patient))
    - S assert(relative_prob(satisfied(patient), moderate))
    - U ask([E, M]>>supports(E, relative_prob(satisfied(patient), moderate), M))
    - S assert([relative_value(disability(patient), low), relative_value(back_pain(patient), high)])
